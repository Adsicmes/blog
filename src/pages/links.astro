---
import { Icon } from "astro-icon/components";
import { friendLinksConfig } from "@/config";
import I18nKey from "@i18n/i18nKey";
import { i18n } from "@i18n/translation";
import MainGridLayout from "@layouts/MainGridLayout.astro";
---

<MainGridLayout title={i18n(I18nKey.links)} description={i18n(I18nKey.links)}>
    <div class="flex w-full rounded-[var(--radius-large)] overflow-hidden relative mb-4">
        <div id="post-container" class:list={["card-base z-10 px-6 md:px-9 pt-6 pb-4 relative w-full", {}]}>
            {friendLinksConfig.links.length > 0 ? (
                <div class="flex flex-col">
                    {friendLinksConfig.links.map((link) => (
                        <a
                            href={link.url}
                            target="_blank"
                            rel="noopener noreferrer"
                            class="card-friendlink group block no-underline"
                        >
                            <div class="card-friendlink-titlebar flex items-center justify-between gap-3">
                                <span class="font-medium">{link.name}</span>
                                <Icon
                                    class="card-friendlink-icon shrink-0 text-[1.25rem] opacity-90"
                                    name="fa6-solid:arrow-up-right-from-square"
                                />
                            </div>
                            {link.description && (
                                <div class="card-friendlink-description mt-2">{link.description}</div>
                            )}
                        </a>
                    ))}
                </div>
            ) : (
                <p class="text-[var(--prose-body)] text-sm">暂无友链，欢迎交换～</p>
            )}
        </div>
    </div>
</MainGridLayout>

<style is:global>
	/* 与 GitHub 卡片完全一致：背景、字体、亮暗色（使用 variables.styl 中的变量） */
	a.card-friendlink {
		display: block;
		background: var(--license-block-bg);
		position: relative;
		margin: 0.5rem 0;
		padding: 1.1rem 1.5rem;
		color: var(--prose-body);
		border-radius: var(--radius-large);
		text-decoration: none;
		text-decoration-thickness: 0;
		text-decoration-line: none;
	}

	a.card-friendlink:hover {
		background-color: var(--btn-regular-bg-hover);
	}

	a.card-friendlink:hover .card-friendlink-titlebar,
	a.card-friendlink:hover .card-friendlink-icon {
		color: var(--btn-content);
	}

	a.card-friendlink:hover .card-friendlink-description {
		color: var(--prose-headings);
	}

	a.card-friendlink:active {
		scale: 0.98;
		background-color: var(--btn-regular-bg-active);
	}

	.card-friendlink-titlebar {
		display: flex;
		align-items: center;
		justify-content: space-between;
		margin-bottom: 0.5rem;
		color: var(--prose-headings);
		font-size: 1.25rem;
		font-weight: 500;
	}

	.card-friendlink-description {
		margin-bottom: 0;
		font-size: 1rem;
		font-weight: 300;
		line-height: 1.5rem;
		color: var(--prose-body);
	}

	a.card-friendlink,
	.card-friendlink-titlebar,
	.card-friendlink-description,
	.card-friendlink-icon {
		transition-property: background-color, color;
		transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
		transition-duration: 0.15s;
	}
</style>
